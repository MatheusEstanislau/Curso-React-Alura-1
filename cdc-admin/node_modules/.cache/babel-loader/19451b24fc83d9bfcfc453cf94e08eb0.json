{"ast":null,"code":"var _jsxFileName = \"/home/matheus/Documentos/Curso React 1/Curso-React-Alura-1/cdc-admin/src/Autor.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport InputCustomizado from './componentes/InputCustomizado.js';\nimport BotaoSubmitCustomizado from './componentes/BotaoSubmitCustomizado.js';\nimport PubSub from 'pubsub-js';\nimport TratadorErros from './TratadorErros';\n\nclass FormularioAutor extends Component {\n  constructor() {\n    super();\n    this.state = {\n      nome: '',\n      email: '',\n      senha: ''\n    };\n    this.enviaForm = this.enviaForm.bind(this);\n    this.setNome = this.setNome.bind(this);\n    this.setEmail = this.setEmail.bind(this);\n    this.setSenha = this.setSenha.bind(this);\n  }\n\n  enviaForm(evento) {\n    evento.preventDefault();\n    $.ajax({\n      url: 'http://localhost:8080/api/autores',\n      contentType: 'application/json',\n      dataType: 'json',\n      type: 'post',\n      data: JSON.stringify({\n        nome: this.state.nome,\n        email: this.state.email,\n        senha: this.state.senha\n      }),\n      success: function (novaLista) {\n        PubSub.publish('atualiza-lista-autores', novaLista);\n      },\n      error: function (resposta) {\n        if (resposta.status === 400) {\n          new TratadorErros().publicaErros(resposta.responseJSON);\n        }\n\n        ;\n      }\n    });\n  }\n\n  setNome(evento) {\n    this.setState({\n      nome: evento.target.value\n    });\n  }\n\n  setEmail(evento) {\n    this.setState({\n      email: evento.target.value\n    });\n  }\n\n  setSenha(evento) {\n    this.setState({\n      senha: evento.target.value\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"pure-form pure-form-aligned\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"pure-form pure-form-aligned\",\n      onSubmit: this.enviaForm,\n      method: \"post\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(InputCustomizado, {\n      id: \"nome\",\n      type: \"text\",\n      name: \"nome\",\n      value: this.state.nome,\n      onChange: this.setNome,\n      label: \"Nome\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(InputCustomizado, {\n      id: \"email\",\n      type: \"email\",\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.setEmail,\n      label: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(InputCustomizado, {\n      id: \"senha\",\n      type: \"password\",\n      name: \"senha\",\n      value: this.state.senha,\n      onChange: this.setSenha,\n      label: \"Senha\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(BotaoSubmitCustomizado, {\n      label: \"Gravar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    })));\n  }\n\n}\n\nclass TabelaAutores extends Component {\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"pure-table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Nome\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"email\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, this.props.lista.map(function (autor) {\n      return React.createElement(\"tr\", {\n        key: autor.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, autor.nome), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, autor.email));\n    }))));\n  }\n\n}\n\nexport default class AutorBox extends Component {\n  constructor() {\n    super();\n    this.state = {\n      lista: []\n    };\n  }\n\n  componentDidMount() {\n    $.ajax({\n      url: \"http://localhost:8080/api/autores\",\n      dataType: 'json',\n      success: function (resposta) {\n        this.setState({\n          lista: resposta\n        });\n      }.bind(this)\n    });\n    PubSub.subscribe('atualiza-lista-autores', function (topico, novaLista) {\n      this.setState({\n        lista: novaLista\n      });\n    }.bind(this));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(FormularioAutor, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(TabelaAutores, {\n      lista: this.state.lista,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/matheus/Documentos/Curso React 1/Curso-React-Alura-1/cdc-admin/src/Autor.js"],"names":["React","Component","$","InputCustomizado","BotaoSubmitCustomizado","PubSub","TratadorErros","FormularioAutor","constructor","state","nome","email","senha","enviaForm","bind","setNome","setEmail","setSenha","evento","preventDefault","ajax","url","contentType","dataType","type","data","JSON","stringify","success","novaLista","publish","error","resposta","status","publicaErros","responseJSON","setState","target","value","render","TabelaAutores","props","lista","map","autor","id","AutorBox","componentDidMount","subscribe","topico"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport $ from 'jquery';\nimport InputCustomizado from './componentes/InputCustomizado.js';\nimport BotaoSubmitCustomizado from './componentes/BotaoSubmitCustomizado.js';\nimport PubSub from 'pubsub-js';\nimport TratadorErros from './TratadorErros'\n\nclass FormularioAutor extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = { nome: '', email: '', senha: '' };\n\t\tthis.enviaForm = this.enviaForm.bind(this);\n\t\tthis.setNome = this.setNome.bind(this);\n\t\tthis.setEmail = this.setEmail.bind(this);\n\t\tthis.setSenha = this.setSenha.bind(this);\n\t}\n\tenviaForm(evento) {\n\t\tevento.preventDefault();\n\t\t$.ajax({\n\t\t\turl: 'http://localhost:8080/api/autores',\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\ttype: 'post',\n\t\t\tdata: JSON.stringify({ nome: this.state.nome, email: this.state.email, senha: this.state.senha }),\n\t\t\tsuccess: function (novaLista) {\n\t\t\t\tPubSub.publish('atualiza-lista-autores', novaLista);\n\t\t\t},\n\t\t\terror: function (resposta) {\n\t\t\t\tif(resposta.status === 400){\n\t\t\t\t\tnew TratadorErros().publicaErros(resposta.responseJSON);\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t}\n\n\tsetNome(evento) {\n\t\tthis.setState({ nome: evento.target.value });\n\t}\n\n\tsetEmail(evento) {\n\t\tthis.setState({ email: evento.target.value });\n\t}\n\n\tsetSenha(evento) {\n\t\tthis.setState({ senha: evento.target.value });\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"pure-form pure-form-aligned\">\n\t\t\t\t<form className=\"pure-form pure-form-aligned\" onSubmit={this.enviaForm} method=\"post\">\n\t\t\t\t\t<InputCustomizado id=\"nome\" type=\"text\" name=\"nome\" value={this.state.nome} onChange={this.setNome} label=\"Nome\" />\n\t\t\t\t\t<InputCustomizado id=\"email\" type=\"email\" name=\"email\" value={this.state.email} onChange={this.setEmail} label=\"Email\" />\n\t\t\t\t\t<InputCustomizado id=\"senha\" type=\"password\" name=\"senha\" value={this.state.senha} onChange={this.setSenha} label=\"Senha\" />\n\t\t\t\t\t<BotaoSubmitCustomizado label=\"Gravar\" />\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass TabelaAutores extends Component {\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<table className=\"pure-table\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Nome</th>\n\t\t\t\t\t\t\t<th>email</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.props.lista.map(function (autor) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<tr key={autor.id}>\n\t\t\t\t\t\t\t\t\t\t<td>{autor.nome}</td>\n\t\t\t\t\t\t\t\t\t\t<td>{autor.email}</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\nexport default class AutorBox extends Component {\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = { lista: [] };\n\t}\n\n\tcomponentDidMount() {\n\t\t$.ajax({\n\t\t\turl: \"http://localhost:8080/api/autores\",\n\t\t\tdataType: 'json',\n\t\t\tsuccess: function (resposta) {\n\t\t\t\tthis.setState({ lista: resposta });\n\t\t\t}.bind(this)\n\t\t}\n\t\t);\n\t\tPubSub.subscribe('atualiza-lista-autores', function (topico, novaLista) {\n\t\t\tthis.setState({ lista: novaLista });\n\t\t}.bind(this));\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<FormularioAutor />\n\t\t\t\t<TabelaAutores lista={this.state.lista} />\n\t\t\t</div>\n\t\t);\n\t}\n}"]},"metadata":{},"sourceType":"module"}